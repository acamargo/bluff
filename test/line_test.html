<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <title>Line tests</title>
  <script src="globals.js" type="text/javascript" language="javascript" charset="utf-8"></script>
  <script src="class.js" type="text/javascript" language="javascript" charset="utf-8"></script>
  <script src="../build/bluff-min.js" type="text/javascript" language="javascript" charset="utf-8"></script>
  <script src="helpers.js" type="text/javascript" language="javascript" charset="utf-8"></script>
  <script src="excanvas-compressed.js" type="text/javascript" language="javascript" charset="utf-8"></script>
</head>
<body>
  
  <canvas id="custom_tooltips"></canvas>
  <canvas id="animals"></canvas>
  <canvas id="xyz"></canvas>
  <canvas id="somenull"></canvas>
  <canvas id="zeromin"></canvas>
  <canvas id="zeromindot"></canvas>
  <canvas id="allzero"></canvas>
  <canvas id="allneg"></canvas>
  <canvas id="decimalrange"></canvas>
  <canvas id="toomanysets"></canvas>
  <canvas id="transparent"></canvas>
  <canvas id="large_baseline"></canvas>
  <canvas id="hide_dots"></canvas>
  <canvas id="hide_lines"></canvas>
  <canvas id="many"></canvas>
  
  <script type="text/javascript" language="javascript" charset="utf-8">
  window.onload = function() {
    var g = new Bluff.Line('custom_tooltips', 400);
    g.tooltips = true;
    g.tooltips_renderer = function(name, color, data, index) { 
      return '<span class="color" style="background:' + color + ';">&nbsp;</span> ' +
        '<span class="label">' + name + '</span> ' +
        '<span class="data">' + data + '</span> ' +
        '<small>index='+index+'</small>';
    }
    g.theme_keynote();
    g.minimum_value = 0.5;
    g.maximum_value = 4.5;
    g.marker_count = 4;
    g.line_width = 1;
    g.dot_radius = 3;
    g.title = 'Custom Tooltips';
    g.title_margin = 70;
    g.data('giraffes', [2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0,
           2.0, 2.0, 2.08, 2.04, 1.77, 2.08, 2.12]);
    g.data('monkeys', [3.97, 2.24, 2.81, 3.2, 1.11, 2.98,
           2.33, 1.89, 3.82, 1.34, 1.87, 1.49, 1.54, 2.45, 1.97]);
    g.data('hippos', [0.88, 1.00, 1.00, 1.0, 1.0, 1.0, 1.0, 1.06,
           1.17, 1.02, 1, 1.01, 1.14, 1.09]);
    g.draw();

    var g = new Bluff.Line('animals', 400);
    g.tooltips = true;
    g.theme_keynote();
    g.minimum_value = 0.5;
    g.maximum_value = 4.5;
    g.marker_count = 4;
    g.line_width = 1;
    g.dot_radius = 3;
    g.title = 'Animals';
    g.title_margin = 70;
    g.data('giraffes', [2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0, 2.0,
           2.0, 2.0, 2.08, 2.04, 1.77, 2.08, 2.12]);
    g.data('monkeys', [3.97, 2.24, 2.81, 3.2, 1.11, 2.98,
           2.33, 1.89, 3.82, 1.34, 1.87, 1.49, 1.54, 2.45, 1.97]);
    g.data('hippos', [0.88, 1.00, 1.00, 1.0, 1.0, 1.0, 1.0, 1.06,
           1.17, 1.02, 1, 1.01, 1.14, 1.09]);
    g.draw();
    
    // Contributed by http://github.com/alltonp
    var g = new Bluff.Line('xyz', 400);
    //options â€¦
    g.hide_legend = true;
    //g.hide_title = true;
    g.hide_line_numbers = false;
    g.hide_line_markers = false;
    g.hide_dots = true;
    g.legend_font_size = 8;
    g.marker_font_size = 6;
    g.title_font_size = 0
    g.set_margins(2);
    g.top_margin = 0;
    g.marker_count = 4;
    //g.number_count = 4;
    g.set_theme({
        colors: ['#CDEB88'],
        //marker_color: 'grey',
        font_color: 'black',
        background_colors: ['#efefef', '#efefef']
    });
    g.title = "Should not complain about fontWeight";
    g.data("Oranges", [90,33,42,0]);
    g.draw();
    
    var g = new Bluff.Line('somenull', 600);
    g.title = 'Some null points';
    Bluff.each([
      ['data1', [1, 2, 3, null, 3, 5, 6]],
      ['data2', [5, null, null, null, null, null, 5]],
      ['data3', [4, null, 2, 1, 0]],
      ['data4', [null, null, 3, 1, 2]]
    ], function(set) {
      g.data(set[0], set[1]);
    });
    g.draw();
    
    var g = new Bluff.Line('zeromin', 400);
    g.theme_37signals();
    g.title = 'Zero minimum value';
    g.data("Apples", [32,10,15,21]);
    g.data("Oranges", [90,33,42,0]);
    g.data("Watermelon", [82,25,8,58]);
    g.data("Peaches", [0,54,63,95]);
    g.labels = {0: '2003', 2: '2004', 4: '2005'};
    g.draw();
    
    var g = new Bluff.Dot('zeromindot', 400);
    g.theme_37signals();
    g.title = 'Zero minimum value';
    g.data("Apples", [32,10,15,21]);
    g.data("Oranges", [90,33,42,0]);
    g.data("Watermelon", [82,25,8,58]);
    g.data("Peaches", [0,54,63,95]);
    g.labels = {0: '2003', 2: '2004', 4: '2005'};
    g.draw();
    
    var g = new Bluff.Line('allzero', 400);
    g.title = 'All data is zero';
    g.data("Apples", [0,0,0,0]);
    g.labels = {0: '2003', 2: '2004', 4: '2005'};
    g.draw();
    
    var g = new Bluff.Line('allneg', 400);
    g.title = 'All data is negative';
    g.data("Apples", [-4,-3,-7,-9]);
    g.labels = {0: '2003', 2: '2004', 4: '2005'};
    g.draw();

    var g = new Bluff.Line('decimalrange', 400);
    g.title = 'Data is decimal';
    g.data("Apples", [0,0.2,0.35,0.7777,1.21212121]);
    g.labels = {0: '2003', 2: '2004', 4: '2005'};
    g.draw();
    if (g._label && g._label(0.1111111111).length >4) {
      ///based on range of 0-1.21
      alert('FAIL:too many digits for significance');
    }
    
    var g = new Bluff.Line('toomanysets', 400);
    g.title = 'More sets than colors';
    Bluff.each(datasets, function(data) {
      g.data(data[0], data[1]);
    });
    Bluff.each(datasets, function(data) {
      g.data(data[0] + '-B', Bluff.map(data[1], function(x) { return x + 20 }));
    });
    g.draw();

    var g = new Bluff.Line('transparent', 400);
    g.title = 'Transparent background';
    g.set_theme({
      colors:   ['#000000', '#777777'],
      marker_color: '#777777',
      font_color: '#000000',
      background_colors: '#ffffff'
    });
    g.labels = {
      0:  '5/6',
      1:  '5/15',
      2:  '5/24',
      3:  '5/30'
    };
    g.data('apples', [-1, 0, 4, -4]);
    g.data('peaches', [10, 8, 6, 3]);
    g.draw();
    
    g = setup_basic_graph('Line', 'large_baseline', 400);
    g.title = 'Baseline larger than data';
    g.baseline_value = 150;
    g.draw();
    
    g = setup_basic_graph('Line', 'hide_dots', 400);
    g.title = 'Hide dots';
    g.hide_dots = true;
    g.draw();
    
    g = setup_basic_graph('Line', 'hide_lines', 400);
    g.title = 'Hide lines';
    g.hide_lines = true;
    g.draw();
    
    g = new Bluff.Line('many', 400);
    g.title = "Many Values Line Test 400px"
    g.legend_margin = 120;
    g.labels = {
      0: '5/6', 
      10: '5/15', 
      20: '5/24', 
      30: '5/30', 
      40: '6/4', 
      50: '6/16'
    }
    Bluff.each(['jimmy', 'jane', 'philip', 'arthur', 'julie', 'bert'], function(student_name) {
      g.data(student_name, random_array(50))
    });
    g.draw();
  };
  </script>
  
</body>
</html>

